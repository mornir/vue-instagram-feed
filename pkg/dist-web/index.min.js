function asyncGeneratorStep(e,t,r,o,n,s,a){try{var c=e[s](a),i=c.value}catch(e){return void r(e)}c.done?t(i):Promise.resolve(i).then(o,n)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(o,n){var s=e.apply(t,r);function a(e){asyncGeneratorStep(s,o,n,a,c,"next",e)}function c(e){asyncGeneratorStep(s,o,n,a,c,"throw",e)}a(void 0)})}}var index={name:"VueInstagram",props:{count:{type:Number,default:2},token:{type:String,required:!0}},data:()=>({posts:[],nextURL:"",errorMsg:""}),created(){this.fetchPosts()},methods:{fetchPosts(){var e=this;return _asyncToGenerator(function*(){const t=e.nextURL?e.nextURL:"https://api.instagram.com/v1/users/self/media/recent/?access_token=".concat(e.token,"&count=").concat(e.count);try{if(!window.fetch)throw new Error("This browser does not support the Fetch API natively. A polyfill is needed.");const r=yield fetch(t);if(!r.ok)throw r;const o=yield r.json();e.nextURL=o.pagination.next_url,e.posts.push(...o.data)}catch(t){if(t.json){const r=yield t.json();e.errorMsg="Error ".concat(400,": ",r.meta.error_message)}else e.errorMsg=t.message;console.error(t)}})()}},render(){return this.$scopedSlots.default({posts:this.posts,errorMsg:this.errorMsg,fetchMorePosts:this.fetchPosts})}};export default index;
//# sourceMappingURL=index.min.js.map