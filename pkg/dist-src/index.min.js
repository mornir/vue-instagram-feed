export default{name:"VueInstagram",props:{count:{type:Number,default:2},token:{type:String,required:!0}},data:()=>({posts:[],nextURL:"",errorMsg:""}),created(){this.fetchPosts()},methods:{async fetchPosts(){const t=this.nextURL?this.nextURL:`https://api.instagram.com/v1/users/self/media/recent/?access_token=${this.token}&count=${this.count}`;try{if(!window.fetch)throw new Error("This browser does not support the Fetch API natively. A polyfill is needed.");const s=await fetch(t);if(!s.ok)throw s;const e=await s.json();this.nextURL=e.pagination.next_url,this.posts.push(...e.data)}catch(t){if(t.json){const s=await t.json();this.errorMsg=`Error 400: ${s.meta.error_message}`}else this.errorMsg=t.message;console.error(t)}}},render(){return this.$scopedSlots.default({posts:this.posts,errorMsg:this.errorMsg,fetchMorePosts:this.fetchPosts})}};
//# sourceMappingURL=index.min.js.map